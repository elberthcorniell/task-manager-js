(()=>{"use strict";let t,e={};const n=t=>{const{value:n,id:o}=t.target;e[o]=n},o=(t,e="",n="")=>{if(void 0===t)return!1;const o=document.createElement(t);return o.className=e,o.innerHTML=n,o},d=({callToAction:t,id:e,modalBody:n})=>{const d=o("button","btn btn-success",t);d.type="button";const i=document.createAttribute("data-toggle");i.value="modal",d.setAttributeNode(i);const r=document.createAttribute("data-target");r.value=`#${e}Modal`,d.setAttributeNode(r),n=o("div","modal-body",n);const a=o("div","modal-header",`\n  <h5 class="modal-title" id="exampleModalLabel">${t}</h5>\n  <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n  <span aria-hidden="true">&times;</span>\n  </button>\n  `),l=o("div","modal-content"),c=o("div","modal-dialog"),s=document.createAttribute("role");s.value="document",c.setAttributeNode(s),l.appendChild(a),l.appendChild(n),c.appendChild(l);const u=o("div","modal fade",c.outerHTML);u.id=`${e}Modal`;const p=document.createAttribute("tabindex");p.value="-1",u.setAttributeNode(p);const m=document.createAttribute("role");m.value="dialog",u.setAttributeNode(m);const g=document.createAttribute("aria-labelledby");g.value="exampleModalLabel",u.setAttributeNode(g);const v=document.createAttribute("aria-hidden");return v.value="true",u.setAttributeNode(v),document.getElementById("content").appendChild(u),d},i=e=>{t=e},r=()=>e,a=()=>JSON.parse(localStorage.getItem("groups")||"[]");class l{constructor({title:t,description:e}){this.title=String(t),this.description=String(e)}save(){const t=a();t.push(this.getAsObject()),localStorage.setItem("groups",JSON.stringify(t))}getAsObject(){const{title:t,description:e}=this;return{title:t,description:e}}}const c=["Groups","Tasks"],s=()=>{const t=o("div","home"),e=document.createElement("form");["Title","Description","submit"].map((t=>{const n=o("input",void 0,t);return n.type=t,n.placeholder=t,n.id=`${t}GroupField`,e.appendChild(n),!0})),e.id="newGroupForm";const n=d({callToAction:"New Group",id:"newGroup",modalBody:e.outerHTML}),i=o("div","row");a().map((t=>{const e=o("div","card-body");e.innerHTML=`\n      <strong>${t.title}</strong>\n      <p>${t.description||""}</p>\n      <a href="?group=${t.title}"><strong>View group</strong></a>`;const n=o("div","card",e.outerHTML),d=o("div","col-3",n.outerHTML);return i.appendChild(d),!0})),t.appendChild(n),t.appendChild(i),document.getElementById("content").appendChild(t)},u=()=>{switch(document.getElementById("content").innerHTML="",(()=>{const t=o("nav","nav");t.appendChild(o("strong","nav-link active","Deadline")),c.map((e=>{const n=o("a","nav-link active",e);return n.href="#",n.id=e.toLowerCase(),t.appendChild(n),!0})),document.getElementById("content").appendChild(t)})(),document.getElementById("groups").addEventListener("click",(()=>{i(1),u()})),document.getElementById("tasks").addEventListener("click",(()=>{i(2),u()})),(()=>{const e=new URL(window.location.href).searchParams.get("group");return n({target:{value:e,id:"group"}}),t||(e?2:1)})()){case 1:s();break;case 2:(()=>{const t=o("div","home"),e=document.createElement("form");["Title","Description","date","priority","submit"].map((t=>{const n=o("input",void 0,t);return n.type=t,n.placeholder=t,n.id=`${t}TaskField`,e.appendChild(n),!0})),e.id="newGroupForm";const n=d({callToAction:"New Task",id:"newTask",modalBody:e.outerHTML}),i=o("div","row"),a=JSON.parse(localStorage.getItem("groups")||"{}")[r().group];a&&a.map((t=>{const e=o("div","card-body");e.innerHTML=`\n      <strong>${t.title}</strong>\n      <p>${t.description||""}</p>\n      <a href="?group=${t.title}"><strong>View group</strong></a>`;const n=o("div","card",e.outerHTML),d=o("div","col-3",n.outerHTML);return i.appendChild(d),!0})),t.appendChild(n),t.appendChild(i),document.getElementById("content").appendChild(t)})();break;default:s()}};u();const p=document.getElementById("newGroupForm"),{childNodes:m}=p;for(const t in m)"input"==m[t].localName&&m[t].addEventListener("input",n);p.addEventListener("submit",(t=>{t.preventDefault();const{TitleGroupField:e,DescriptionGroupField:n}=r();new l({title:e,description:n}).save(),window.location.reload()}))})();